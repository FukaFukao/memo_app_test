<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ãƒ¡ãƒ¢å¸³</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f5f5f5;
      padding: 20px;
    }
    textarea {
      width: 100%;
      height: 200px;
      font-size: 16px;
      padding: 10px;
      box-sizing: border-box;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    input[type="text"] {
      width: 100%;
      font-size: 16px;
      padding: 8px;
      margin-top: 10px;
      box-sizing: border-box;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    button {
      margin-top: 10px;
      margin-right: 10px;
      padding: 8px 16px;
      font-size: 14px;
      border: none;
      border-radius: 6px;
      background-color: #4caf50;
      color: white;
      cursor: pointer;
    }
    button.delete {
      background-color: #f44336;
    }
    button.load {
      background-color: #2196f3;
    }
    select {
      width: 100%;
      padding: 8px;
      margin-top: 15px;
      font-size: 16px;
      border-radius: 6px;
    }
    .datetime {
      font-size: 12px;
      color: #666;
    }
  </style>
</head>
<body>
  <!-- ğŸŒ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ -->
<nav class="navbar">
  <div class="nav-brand">ğŸ§© ãƒŸãƒ‹ã‚¢ãƒ—ãƒªé›†</div>
  <button class="nav-toggle" onclick="toggleNav()">â˜°</button>
  <ul id="nav-links">
    <li><a href="index.html">ğŸ  ãƒ›ãƒ¼ãƒ </a></li>
    <li><a href="memo_app_test.html">ğŸ“” ãƒ¡ãƒ¢å¸³</a></li>
    <li><a href="calc_test.html">ğŸ§® è¨ˆç®—æ©Ÿ</a></li>
  </ul>
</nav>

<style>
  .navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: #4caf50;
    color: white;
    padding: 10px 20px;
    flex-wrap: wrap;
  }

  .nav-brand {
    font-size: 18px;
    font-weight: bold;
  }

  .nav-toggle {
    font-size: 24px;
    background: none;
    border: none;
    color: white;
    cursor: pointer;
    display: none;
  }

  #nav-links {
    display: flex;
    gap: 15px;
    list-style: none;
    padding: 0;
    margin: 0;
  }

  #nav-links li a {
    color: white;
    text-decoration: none;
    padding: 8px;
    display: block;
  }

  @media screen and (max-width: 600px) {
    .nav-toggle {
      display: block;
    }

    #nav-links {
      display: none;
      flex-direction: column;
      width: 100%;
      background-color: #388e3c;
      margin-top: 10px;
      border-radius: 5px;
    }

    #nav-links.active {
      display: flex;
    }
  }
</style>

<script>
  function toggleNav() {
    document.getElementById("nav-links").classList.toggle("active");
  }
</script>
  
  <h1>ãƒ¡ãƒ¢å¸³</h1>

  <label>ã‚¿ã‚¤ãƒˆãƒ«:</label>
  <input type="text" id="memoTitle" placeholder="ãƒ¡ãƒ¢ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›" />

  <label>æœ¬æ–‡:</label>
  <textarea id="memoContent" placeholder="ã“ã“ã«ãƒ¡ãƒ¢ã‚’æ›¸ã„ã¦ãã ã•ã„"></textarea><br />

  <button onclick="saveMemo()">ä¿å­˜</button>
  <button onclick="deleteMemo()" class="delete">å‰Šé™¤</button>

  <h3>ä¿å­˜ã•ã‚ŒãŸãƒ¡ãƒ¢</h3>
  <select id="savedMemos" onchange="loadSelectedMemo()">
    <option value="">-- ãƒ¡ãƒ¢ã‚’é¸æŠ --</option>
  </select>
  <div class="datetime" id="memoDate"></div>

  <script>
    const memoTitle = document.getElementById("memoTitle");
    const memoContent = document.getElementById("memoContent");
    const savedMemos = document.getElementById("savedMemos");
    const memoDate = document.getElementById("memoDate");

    // ãƒ­ãƒ¼ãƒ‰æ™‚ã«ä¿å­˜æ¸ˆã¿ãƒ¡ãƒ¢ã‚’ãƒªã‚¹ãƒˆã«è¡¨ç¤º
    window.onload = function () {
      updateMemoList();
    };

    function saveMemo() {
      const title = memoTitle.value.trim();
      const content = memoContent.value.trim();

      if (!title || !content) {
        alert("ã‚¿ã‚¤ãƒˆãƒ«ã¨å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚");
        return;
      }

      const datetime = new Date().toLocaleString();
      const memoData = {
        content: content,
        date: datetime
      };

      localStorage.setItem("memo_" + title, JSON.stringify(memoData));
      alert("ä¿å­˜ã—ã¾ã—ãŸï¼");
      memoTitle.value = "";
      memoContent.value = "";
      updateMemoList();
    }

    function loadSelectedMemo() {
      const selectedKey = savedMemos.value;
      if (!selectedKey) return;

      const memoJSON = localStorage.getItem(selectedKey);
      if (memoJSON) {
        const memo = JSON.parse(memoJSON);
        memoTitle.value = selectedKey.replace("memo_", "");
        memoContent.value = memo.content;
        memoDate.textContent = "ä¿å­˜æ—¥æ™‚: " + memo.date;
      }
    }

    function deleteMemo() {
      const selectedKey = savedMemos.value;
      if (!selectedKey) {
        alert("å‰Šé™¤ã™ã‚‹ãƒ¡ãƒ¢ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚");
        return;
      }

      if (confirm("ã“ã®ãƒ¡ãƒ¢ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")) {
        localStorage.removeItem(selectedKey);
        alert("å‰Šé™¤ã—ã¾ã—ãŸï¼");
        memoTitle.value = "";
        memoContent.value = "";
        memoDate.textContent = "";
        updateMemoList();
      }
    }

    function updateMemoList() {
      savedMemos.innerHTML = '<option value="">-- ãƒ¡ãƒ¢ã‚’é¸æŠ --</option>';
      for (let i = 0; i < localStorage.length; i++) {
        const key = localStorage.key(i);
        if (key.startsWith("memo_")) {
          const option = document.createElement("option");
          option.value = key;
          option.textContent = key.replace("memo_", "");
          savedMemos.appendChild(option);
        }
      }
    }
  </script>
</body>
</html>

